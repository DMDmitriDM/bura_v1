(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(t=a.currentScript.src),!t)){var s=a.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=s[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t+"../"})();const t=e.p+"assets/images/x_town.0ff10c35a8732947bdcc.ico",a=e.p+"assets/images/6b.6876fa5408404201b525.jpg",s=e.p+"assets/images/6h.9b99ffe89e796f9665ce.jpg",r=e.p+"assets/images/6k.055512d3a9970deeb82f.jpg",d=e.p+"assets/images/6p.ccafc98f4877d93cf4d0.jpg",n=e.p+"assets/images/7b.547070b59a872a912097.jpg",i=e.p+"assets/images/7h.ab0c1d79874a1b2869c8.jpg",c=e.p+"assets/images/7k.c739c63f4af3a1b5b6ec.jpg",l=e.p+"assets/images/7p.faef8417d026ad7c5876.jpg",o=e.p+"assets/images/8b.a7ed6489e084fe23a93c.jpg",p=e.p+"assets/images/8h.32c392655f4c53f3ff93.jpg",h=e.p+"assets/images/8k.25bb03efbe1ffbacd94d.jpg",g=e.p+"assets/images/8p.c76fd16a1eccd352ad5f.jpg",m=e.p+"assets/images/9b.1bf3071a4650a1a771b4.jpg",C=e.p+"assets/images/9h.e579b84af4653d12238e.jpg",b=e.p+"assets/images/9k.7418b2757ac6e19e492e.jpg",u=e.p+"assets/images/9p.781084e81d03ad420995.jpg",f=e.p+"assets/images/10b.307cc821edb288ae5aa2.jpg",A=e.p+"assets/images/10h.38c714e387ab51752d6b.jpg",v=e.p+"assets/images/10k.b2e18ea81410425b2321.jpg",y=e.p+"assets/images/10p.2c39405f7651428a8490.jpg",B=e.p+"assets/images/Vb.0e38da8ea196e83d1766.jpg",k=e.p+"assets/images/Vh.494ae7cfc3f5351ccb62.jpg",x=e.p+"assets/images/Vk.a8a5b4b824ea2c151d19.jpg",L=e.p+"assets/images/Vp.29f2fd623dc9935aff58.jpg",F=e.p+"assets/images/Db.6dda7a7af29a46c2661e.jpg",w=e.p+"assets/images/Dh.a1df101c9666fd5837a6.jpg",E=e.p+"assets/images/Dk.568c747fb8443fa767ad.jpg",T=e.p+"assets/images/Dp.f52306870f93089aded6.jpg",H=e.p+"assets/images/Kb.71facc0cbbc98b4fb2f2.jpg",I=e.p+"assets/images/Kh.f46122b5b2be4c3f7674.jpg",j=e.p+"assets/images/Kk.444aa77759724a6eef35.jpg",M=e.p+"assets/images/Kp.31b3268d55a18ff2af09.jpg",S=e.p+"assets/images/Tb.9b0140d142e3b159440d.jpg",D=e.p+"assets/images/Th.671eb7bbcfd5ebaa218c.jpg",P=e.p+"assets/images/Tk.86f18680399d57cecaa0.jpg",W=e.p+"assets/images/Tp.6e07d2026d8b93d4cf39.jpg",K=e.p+"assets/images/Rb.299ee57f49b669344fea.jpg",V=e.p+"assets/images/Rh.577e7e11faffce3cbd4a.jpg",$=e.p+"assets/images/Rk.bbbfecc0d215713de761.jpg",z=e.p+"assets/images/Rp.451a7a66929add7f7028.jpg",q=e.p+"assets/images/Af.05a27e2c647ad08127e4.jpg",O=e.p+"assets/images/As.c734ce43597f48938fd7.jpg",R=e.p+"assets/images/Ar.5e832d996c8b04bb1a62.jpg",N={card6b:a,card6h:s,card6k:r,card6p:d,card7b:n,card7h:i,card7k:c,card7p:l,card8b:o,card8h:p,card8k:h,card8p:g,card9b:m,card9h:C,card9k:b,card9p:u,card10b:f,card10h:A,card10k:v,card10p:y,cardVb:B,cardVh:k,cardVk:x,cardVp:L,cardDb:F,cardDh:w,cardDk:E,cardDp:T,cardKb:H,cardKh:I,cardKk:j,cardKp:M,cardTb:S,cardTh:D,cardTk:P,cardTp:W},U={ruffB:K,ruffH:V,ruffK:$,ruffP:z},Z={otherAf:q,otherAs:O,otherAr:R};let _=!0,G=!0,J=0,Q=0,X=0,Y=0;const ee=new class{arrCardsName;arrCardDeck;countArrCardDeck;kozir;arrHandsCardA;arrHandsCardB;arrFieldsCardA;arrFieldsCardB;arrPartyCardsA;arrPartyCardsB;playerIsMove;constructor(){this.arrCardsName=["6b","6h","6k","6p","7b","7h","7k","7p","8b","8h","8k","8p","9b","9h","9k","9p","10b","10h","10k","10p","Vb","Vh","Vk","Vp","Db","Dh","Dk","Dp","Kb","Kh","Kk","Kp","Tb","Th","Tk","Tp"],this.arrHandsCardA=[],this.arrHandsCardB=[],this.arrFieldsCardA=[],this.arrFieldsCardB=[],this.arrPartyCardsA=[],this.arrPartyCardsB=[]}mixArray(e){const t=e.length;for(let a=0;a<t;a++){const s=Math.floor(Math.random()*t);let r=e[a];e[a]=e[s],e[s]=r}}getPlayerIsRotate(){return Math.floor(2*Math.random())?"B":"A"}getWTCard(e){let t;return"6b"===e||"6h"===e||"6k"===e||"6p"===e?t=1:"7b"===e||"7h"===e||"7k"===e||"7p"===e?t=2:"8b"===e||"8h"===e||"8k"===e||"8p"===e?t=3:"9b"===e||"9h"===e||"9k"===e||"9p"===e?t=4:"Vb"===e||"Vh"===e||"Vk"===e||"Vp"===e?t=5:"Db"===e||"Dh"===e||"Dk"===e||"Dp"===e?t=6:"Kb"===e||"Kh"===e||"Kk"===e||"Kp"===e?t=7:"10b"===e||"10h"===e||"10k"===e||"10p"===e?t=8:"Tb"!==e&&"Th"!==e&&"Tk"!==e&&"Tp"!==e||(t=9),e[e.length-1]===this.kozir.toLowerCase()&&(t+=10),t}sortArrCardsByWT(e){e.sort((e,t)=>this.getWTCard(t)-this.getWTCard(e))}getCardSuit(e){return e.slice(e.length-1)}checkCardSuit(e){for(let t=0;t<e.length-1;t++)if(this.getCardSuit(e[t])!==this.getCardSuit(e[t+1]))return!1;return!0}testBura(e){return 4===e.length&&this.checkCardSuit(e)}getOneCardPoints(e){return"Vb"===e||"Vh"===e||"Vk"===e||"Vp"===e?2:"Db"===e||"Dh"===e||"Dk"===e||"Dp"===e?3:"Kb"===e||"Kh"===e||"Kk"===e||"Kp"===e?4:"10b"===e||"10h"===e||"10k"===e||"10p"===e?10:"Tb"===e||"Th"===e||"Tk"===e||"Tp"===e?11:0}getCountPoints(e){let t=0;for(let a=0;a<e.length;a++)t+=this.getOneCardPoints(e[a]);return t}removeArrFromArr(e,t){for(let a=0;a<e.length;a++){const s=t.indexOf(e[a]);-1!==s&&t.splice(s,1)}}cleareArrFieldsCardAB(){this.arrFieldsCardA.length=0,this.arrFieldsCardB.length=0}cleareArrPartyCardsAB(){this.arrPartyCardsA.length=0,this.arrPartyCardsB.length=0}getCardDeck(){this.arrCardDeck=[...this.arrCardsName],this.countArrCardDeck=this.arrCardDeck.length,this.mixArray(this.arrCardDeck),this.kozir=this.arrCardDeck[this.arrCardDeck.length-1],this.kozir=this.kozir[this.kozir.length-1].toUpperCase()}refuelArrHandsCard(){let e=4;for(e-=this.arrHandsCardA.length;this.countArrCardDeck-2*e<0;)e-=1;this.arrHandsCardA.push(...this.arrCardDeck.splice(0,e)),this.arrHandsCardB.push(...this.arrCardDeck.splice(0,e)),this.countArrCardDeck-=2*e,this.arrHandsCardA.sort((e,t)=>this.getWTCard(t)-this.getWTCard(e)),this.arrHandsCardB.sort((e,t)=>this.getWTCard(t)-this.getWTCard(e))}getPlayerIsWin(){if("A"===this.playerIsMove){for(let e=0;e<this.arrFieldsCardB.length;e++)if(this.getCardSuit(this.arrFieldsCardB[e])===this.kozir.toLowerCase()){if(this.getWTCard(this.arrFieldsCardB[e])<this.getWTCard(this.arrFieldsCardA[e]))return"A"}else{if(this.getCardSuit(this.arrFieldsCardB[e])!==this.getCardSuit(this.arrFieldsCardA[e]))return"A";if(this.getWTCard(this.arrFieldsCardB[e])<this.getWTCard(this.arrFieldsCardA[e]))return"A"}return"B"}for(let e=0;e<this.arrFieldsCardA.length;e++)if(this.getCardSuit(this.arrFieldsCardA[e])===this.kozir.toLowerCase()){if(this.getWTCard(this.arrFieldsCardA[e])<this.getWTCard(this.arrFieldsCardB[e]))return"B"}else{if(this.getCardSuit(this.arrFieldsCardA[e])!==this.getCardSuit(this.arrFieldsCardB[e]))return"B";if(this.getWTCard(this.arrFieldsCardA[e])<this.getWTCard(this.arrFieldsCardB[e]))return"B"}return"A"}playForAplayerIsMoveA(){let e=[];const t={b:[],h:[],k:[],p:[]};for(let e=0;e<this.arrHandsCardA.length;e++){t[this.getCardSuit(this.arrHandsCardA[e])].push(this.arrHandsCardA[e])}const a=Object.values(t);for(let t=0;t<a.length;t++)if(4===a[t].length){e=a[t];break}if(e.length)return e;for(let t=0;t<a.length;t++)if(3===a[t].length){e=a[t];break}if(e.length)return e;const s=[];for(let e=0;e<a.length;e++)2===a[e].length&&s.push(a[e]);if(1===s.length)return s[0];if(2===s.length){return this.getWTCard(s[0][0])+this.getWTCard(s[0][1])>=this.getWTCard(s[1][0])+this.getWTCard(s[1][1])?s[0]:s[1]}return e.push(this.arrHandsCardA[this.arrHandsCardA.length-1]),e}playPlayerAFirst(){this.arrFieldsCardA.push(...this.playForAplayerIsMoveA()),this.removeArrFromArr(this.arrFieldsCardA,this.arrHandsCardA)}playForAplayerIsMoveB(){const e=this.getCardSuit(this.arrFieldsCardB[0]),t=this.kozir.toLowerCase(),a=[];if(e===t){for(let e=0;e<this.arrFieldsCardB.length;e++)for(let t=this.arrHandsCardA.length-1;t>=0;t--)if(this.getWTCard(this.arrHandsCardA[t])>this.getWTCard(this.arrFieldsCardB[e])){if(-1!==a.indexOf(this.arrHandsCardA[t]))continue;a.push(this.arrHandsCardA[t]);break}}else for(let s=0;s<this.arrFieldsCardB.length;s++)for(let r=this.arrHandsCardA.length-1;r>=0;r--)if((this.getCardSuit(this.arrHandsCardA[r])===e||this.getCardSuit(this.arrHandsCardA[r])===t)&&this.getWTCard(this.arrHandsCardA[r])>this.getWTCard(this.arrFieldsCardB[s])){if(-1!==a.indexOf(this.arrHandsCardA[r]))continue;a.push(this.arrHandsCardA[r]);break}if(a.length===this.arrFieldsCardB.length)return a;return this.arrHandsCardA.slice(this.arrHandsCardA.length-this.arrFieldsCardB.length)}playPlayerASecond(){this.arrFieldsCardA.push(...this.playForAplayerIsMoveB()),this.sortArrCardsByWT(this.arrFieldsCardA),this.removeArrFromArr(this.arrFieldsCardA,this.arrHandsCardA)}};const te=document.createElement("link");te.rel="icon",te.type="image/x-icon",te.href=t,document.head.append(te),function(){const e=document.createElement("div");e.classList.add("container"),document.body.append(e);const t=document.createElement("div");t.classList.add("game-box"),e.append(t);const a=document.createElement("div");a.classList.add("blind","blind-hide"),t.append(a);const s=document.createElement("div");s.classList.add("blind-wrap"),a.append(s);const r=document.createElement("span");r.classList.add("blind-info"),r.textContent="Текст",s.append(r);const d=document.createElement("button");d.classList.add("blind-btn","btn-game","btn-reset"),d.textContent="OK",s.append(d);const n=document.createElement("div");n.classList.add("game-box-left"),t.append(n);const i=document.createElement("div");i.classList.add("game-box-left-wrap"),i.innerHTML='<h4 class="title-play-a">Игрок А</h4>\n    <div class="wrap-span"><span>Взятки: </span><span id="id-bribe-a">0</span></div>\n    <div class="wrap-span"><span>Борода: </span><span id="id-beard-a">0</span></div>\n    <div class="wrap-span"><span>Очки: </span><span id="id-points-a">0</span></div>',n.append(i);const c=document.createElement("div");c.classList.add("game-box-left-wrap"),n.append(c);const l=document.createElement("span");l.textContent="Козырь",c.append(l);const o=document.createElement("div");o.classList.add("wrap-ruff-img"),c.append(o);const p=document.createElement("img");p.classList.add("ruff-img","img-max"),p.setAttribute("id","id-img-ruff"),p.src=Z.otherAr,p.alt="Нет",o.append(p);const h=document.createElement("div");h.classList.add("game-box-left-wrap"),h.innerHTML='<span>В колоде</span>\n    <div><span>карт: </span><span id="id-count-cards">36</span></div>',n.append(h);const g=document.createElement("div");g.classList.add("game-box-left-wrap"),g.innerHTML='<div class="wrap-span"><span>Взятки: </span><span id="id-bribe-b">0</span></div>\n    <div class="wrap-span"><span>Борода: </span><span id="id-beard-b">0</span></div>\n    <div class="wrap-span"><span>Очки: </span><span id="id-points-b">0</span></div>\n    <h4 class="title-play-b">Игрок В</h4>',n.append(g);const m=document.createElement("div");m.classList.add("game-box-middle"),t.append(m);const C=document.createElement("div");C.classList.add("middle-top"),m.append(C);for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("wrap-card-field","box-hands-a"),t.setAttribute("id",`id-div-hands-a-${e}`),C.append(t);const a=document.createElement("img");a.classList.add("img-max","img-hands-a"),a.setAttribute("id",`id-img-hands-a-${e}`),a.src=Z.otherAf,a.alt="Cover",t.append(a)}const b=document.createElement("div");b.classList.add("middle-middle"),m.append(b);const u=document.createElement("div");u.classList.add("middle-top"),b.append(u);for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("wrap-card-field"),u.append(t);const a=document.createElement("img");a.classList.add("img-max","img-field-a"),a.setAttribute("id",`id-img-field-a-${e}`),a.src=Z.otherAf,a.alt="Cover",t.append(a)}const f=document.createElement("div");f.classList.add("middle-bottom"),b.append(f);for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("wrap-card-field"),f.append(t);const a=document.createElement("img");a.classList.add("img-max","img-field-b"),a.setAttribute("id",`id-img-field-b-${e}`),a.src=Z.otherAf,a.alt="Cover",t.append(a)}const A=document.createElement("div");A.classList.add("middle-bottom"),m.append(A);for(let e=0;e<4;e++){const t=document.createElement("div");t.classList.add("wrap-card-field","box-hands-b"),t.setAttribute("id",`id-div-hands-b-${e}`),A.append(t);const a=document.createElement("img");a.classList.add("img-max","img-hands-b"),a.setAttribute("id",`id-img-hands-b-${e}`),a.src=Z.otherAf,a.alt="Cover",t.append(a)}const v=document.createElement("div");v.classList.add("game-box-right"),t.append(v);const y=document.createElement("div");y.classList.add("game-box-right-wrap"),v.append(y);const B=document.createElement("button");B.classList.add("btn-game","btn-reset"),B.setAttribute("id","id-btn-game"),B.innerHTML='<span class="btn-span">Игра</span>\n    <svg class="btn-svg" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.2929 4.29289C12.6834 3.90237 13.3166 3.90237 13.7071 4.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L13.7071 19.7071C13.3166 20.0976 12.6834 20.0976 12.2929 19.7071C11.9024 19.3166 11.9024 18.6834 12.2929 18.2929L17.5858 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H17.5858L12.2929 5.70711C11.9024 5.31658 11.9024 4.68342 12.2929 4.29289Z"/>\n    </svg>',y.append(B);const k=document.createElement("button");k.classList.add("btn-game","btn-reset"),k.setAttribute("id","id-btn-rotate"),k.setAttribute("disabled",""),k.innerHTML='<span class="btn-span">Сдача карт</span>\n    <svg class="btn-svg" width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n    <path d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"/>\n    </svg>',y.append(k);const x=document.createElement("div");x.classList.add("game-box-right-wrap"),x.innerHTML='<span class="span-message" id="id-message-1">Начать игру!</span>\n    <span class="span-message span-message-hide" id="id-message-2">Начать игру!</span>',v.append(x);const L=document.createElement("div");L.classList.add("game-box-right-wrap"),v.append(L);const F=document.createElement("button");F.classList.add("btn-game","btn-reset"),F.setAttribute("id","id-btn-ok"),F.setAttribute("disabled",""),F.innerHTML='<span class="btn-span">Ок</span>\n    <svg class="btn-svg" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M21.2287 6.60355C21.6193 6.99407 21.6193 7.62723 21.2287 8.01776L10.2559 18.9906C9.86788 19.3786 9.23962 19.3814 8.84811 18.9969L2.66257 12.9218C2.26855 12.5349 2.26284 11.9017 2.64983 11.5077L3.35054 10.7942C3.73753 10.4002 4.37067 10.3945 4.7647 10.7815L9.53613 15.4677L19.1074 5.89644C19.4979 5.50592 20.1311 5.50591 20.5216 5.89644L21.2287 6.60355Z"/>\n    </svg>',L.append(F);const w=document.createElement("button");w.classList.add("btn-game","btn-reset"),w.setAttribute("id","id-btn-step"),w.setAttribute("disabled",""),w.innerHTML='<span class="btn-span">Ваш ход</span>\n    <svg class="btn-svg" width="24" height="24" viewBox="-5 -4.5 24 24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 4.071l-3.95 3.95A1 1 0 0 1 .636 6.607L6.293.95a.997.997 0 0 1 1.414 0l5.657 5.657A1 1 0 0 1 11.95 8.02L8 4.07v9.586a1 1 0 1 1-2 0V4.07z"/>\n    </svg>',L.append(w)}(),function(){const e=document.querySelector(".blind"),t=document.querySelector(".blind-info"),a=document.querySelector(".blind-btn"),s=document.getElementById("id-btn-game"),r=document.getElementById("id-btn-rotate"),d=document.getElementById("id-btn-ok"),n=document.getElementById("id-btn-step"),i=document.querySelectorAll(".img-hands-a"),c=document.querySelectorAll(".img-field-a"),l=document.querySelectorAll(".img-field-b"),o=document.querySelectorAll(".box-hands-b"),p=document.querySelectorAll(".img-hands-b"),h=document.getElementById("id-bribe-a"),g=document.getElementById("id-beard-a"),m=document.getElementById("id-points-a"),C=document.getElementById("id-img-ruff"),b=document.getElementById("id-count-cards"),u=document.getElementById("id-bribe-b"),f=document.getElementById("id-beard-b"),A=document.getElementById("id-points-b"),v=document.getElementById("id-message-1"),y=document.getElementById("id-message-2");s.addEventListener("click",()=>{s.setAttribute("disabled",""),r.removeAttribute("disabled"),_?_=!1:(J=0,Q=0,X=0,Y=0,h.textContent="0",u.textContent="0",g.textContent="0",f.textContent="0",m.textContent="0",A.textContent="0",b.textContent="36",y.textContent="",y.classList.add("span-message-hide")),G=!0,v.textContent="Сдать карты!"}),r.addEventListener("click",async()=>{r.setAttribute("disabled",""),G||(J=0,Q=0,h.textContent="0",u.textContent="0",m.textContent="0",A.textContent="0",y.textContent="",y.classList.add("span-message-hide")),ee.cleareArrPartyCardsAB(),ee.getCardDeck(),ee.refuelArrHandsCard(),B(),b.textContent=String(ee.countArrCardDeck),C.src=U[`ruff${ee.kozir}`],v.textContent="Карты розданы!",G&&(ee.playerIsMove=ee.getPlayerIsRotate(),t.textContent=`Жребий выпал на ход игроку ${ee.playerIsMove}`,await async function(){e.classList.remove("blind-hide"),await new Promise(t=>{a.addEventListener("click",()=>{e.addEventListener("transitionend",()=>{t()},{once:!0}),e.classList.add("blind-hide")})})}(),G=!1),x(),"A"===ee.playerIsMove&&(ee.playPlayerAFirst(),B(),k()),v.textContent="Ваш ход!",n.removeAttribute("disabled")}),d.addEventListener("click",()=>{if(ee.refuelArrHandsCard(),b.textContent=String(ee.countArrCardDeck),x(),"A"===ee.playerIsMove&&ee.arrHandsCardA.length&&ee.playPlayerAFirst(),B(),k(),ee.arrHandsCardA.length||ee.arrHandsCardB.length)d.setAttribute("disabled",""),n.removeAttribute("disabled"),v.textContent="Ваш ход!";else{r.removeAttribute("disabled"),d.setAttribute("disabled",""),n.setAttribute("disabled",""),v.textContent="Сдать карты!";const e=ee.getCountPoints(ee.arrPartyCardsA);m.textContent=String(e);const t=ee.getCountPoints(ee.arrPartyCardsB);A.textContent=String(t);const a=ee.playerIsMove;ee.playerIsMove=e>t?"A":e<t?"B":e===t&&J>Q?"A":e===t&&J<Q?"B":a,"A"===ee.playerIsMove?Y+=2:X+=2,g.textContent=String(X),f.textContent=String(Y),C.src=Z.otherAr,y.textContent=`Партия за игроком: ${ee.playerIsMove}`,y.classList.remove("span-message-hide"),6!==X&&6!==Y||(v.textContent=6===X?"Игрок А козлик!":"Игрок В козлик!",r.setAttribute("disabled",""),d.setAttribute("disabled",""),n.setAttribute("disabled",""),s.removeAttribute("disabled"))}}),n.addEventListener("click",()=>{if(y.textContent="",y.classList.add("span-message-hide"),!ee.arrFieldsCardB.length)return v.textContent="Не выбрано карт для хода!",!1;"B"!==ee.playerIsMove||ee.checkCardSuit(ee.arrFieldsCardB)?"A"!==ee.playerIsMove||ee.arrFieldsCardB.length===ee.arrFieldsCardA.length?(ee.sortArrCardsByWT(ee.arrFieldsCardB),ee.removeArrFromArr(ee.arrFieldsCardB,ee.arrHandsCardB),"B"===ee.playerIsMove&&ee.playPlayerASecond(),B(),k(),ee.playerIsMove=ee.getPlayerIsWin(),v.textContent=`Взятка за игроком ${ee.playerIsMove}!`,"A"===ee.playerIsMove?(ee.arrPartyCardsA.push(...ee.arrFieldsCardA),ee.arrPartyCardsA.push(...ee.arrFieldsCardB),J+=1,h.textContent=String(J)):(ee.arrPartyCardsB.push(...ee.arrFieldsCardA),ee.arrPartyCardsB.push(...ee.arrFieldsCardB),Q+=1,u.textContent=String(Q)),ee.cleareArrFieldsCardAB(),n.setAttribute("disabled",""),d.removeAttribute("disabled")):v.textContent=`Вы должны ходить с ${ee.arrFieldsCardA.length} карт(ы)!`:v.textContent="Выбраны карты не одной масти!"});for(let e=0;e<4;e++)o[e].addEventListener("click",()=>{if(!n.disabled&&e<ee.arrHandsCardB.length){o[e].classList.toggle("wrap-card-field-check");const t=ee.arrFieldsCardB.indexOf(ee.arrHandsCardB[e]);-1===t?ee.arrFieldsCardB.push(ee.arrHandsCardB[e]):ee.arrFieldsCardB.splice(t,1),v.textContent="Ваш ход!"}});function B(){for(let e=0;e<4;e++)e<ee.arrHandsCardA.length?i[e].src=Z.otherAs:i[e].src=Z.otherAf,e<ee.arrHandsCardB.length?p[e].src=N[`card${ee.arrHandsCardB[e]}`]:p[e].src=Z.otherAf,o[e].classList.remove("wrap-card-field-check")}function k(){for(let e=0;e<4;e++)e<ee.arrFieldsCardA.length?c[e].src=N[`card${ee.arrFieldsCardA[e]}`]:c[e].src=Z.otherAf,e<ee.arrFieldsCardB.length?l[e].src=N[`card${ee.arrFieldsCardB[e]}`]:l[e].src=Z.otherAf}function x(){const e=ee.testBura(ee.arrHandsCardA),t=ee.testBura(ee.arrHandsCardB);e&&t?(y.textContent=`Бура! Ход за ироком ${ee.playerIsMove} не изменился`,y.classList.remove("span-message-hide")):e?("A"===ee.playerIsMove?y.textContent=`Бура! Ход за ироком ${ee.playerIsMove} не изменился`:(ee.playerIsMove="A",y.textContent=`Бура! Ход перешёл к ироку ${ee.playerIsMove}`),y.classList.remove("span-message-hide")):t&&("B"===ee.playerIsMove?y.textContent=`Бура! Ход за ироком ${ee.playerIsMove} не изменился`:(ee.playerIsMove="B",y.textContent=`Бура! Ход перешёл к ироку ${ee.playerIsMove}`),y.classList.remove("span-message-hide"))}}()})();